<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="NCAR HPC Docs website"><meta name=author content="CISL CSG (Consulting Services Group)"><link href=https://NCAR.github.io/HPC-Docs/pbs/checking-memory-use/ rel=canonical><link rel=icon href="https://t0.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://arc.ucar.edu/knowledge_base/83853599"><meta name=generator content="mkdocs-1.5.3, mkdocs-material-8.5.10"><title>NCAR HPC Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.975780f9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Poppins";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=cisl_default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#checking-memory-use class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <strong>This site is currently under ACTIVE DEVELOPMENT!</strong> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="NCAR HPC Documentation" class="md-header__button md-logo" aria-label="NCAR HPC Documentation" data-md-component=logo> <img src=../../assets/images/CISL-contemp-logo-blue-square.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> NCAR HPC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Checking memory use </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=cisl_default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=cisl_default_dark data-md-color-primary data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/NCAR/HPC-Docs/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="NCAR HPC Documentation" class="md-nav__button md-logo" aria-label="NCAR HPC Documentation" data-md-component=logo> <img src=../../assets/images/CISL-contemp-logo-blue-square.png alt=logo> </a> NCAR HPC Documentation </label> <div class=md-nav__source> <a href=https://github.com/NCAR/HPC-Docs/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../../getting-started/ >Getting Started</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/user-responsibilities/ class=md-nav__link> User Responsibilities </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../getting-started/accounts/ >Accounts</a> <label for=__nav_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Accounts data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Accounts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/accounts/cit-passwords/ class=md-nav__link> CIT Passwords </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3_3 type=checkbox id=__nav_2_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../getting-started/accounts/duo/ >Duo Two-Factor Authentication</a> <label for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Duo Two-Factor Authentication" data-md-level=3> <label class=md-nav__title for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> Duo Two-Factor Authentication </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/accounts/duo/enrolling/ class=md-nav__link> Enrolling with Duo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../getting-started/accounts/systems-accounting-manager/ class=md-nav__link> SAM </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../allocations/ >Allocations</a> <label for=__nav_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Allocations data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Allocations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/managing-your-allocation/ class=md-nav__link> Managing Your Allocation </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_3 type=checkbox id=__nav_2_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../allocations/ncar-allocations/ >NCAR Allocations</a> <label for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="NCAR Allocations" data-md-level=3> <label class=md-nav__title for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> NCAR Allocations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../allocations/ncar-allocations/ncar-strategic-capability-nsc-projects/ class=md-nav__link> NCAR Strategic Capability (NSC) projects </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_4 type=checkbox id=__nav_2_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../allocations/university-allocations/ >University Allocations</a> <label for=__nav_2_4_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="University Allocations" data-md-level=3> <label class=md-nav__title for=__nav_2_4_4> <span class="md-nav__icon md-icon"></span> University Allocations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../allocations/university-allocations/university-large-allocation-request-preparation-instructions/ class=md-nav__link> University Large Allocation Request Preparation Instructions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../allocations/determining-computational-resource-needs/ class=md-nav__link> Determining computational resource needs </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4_6 type=checkbox id=__nav_2_4_6> <div class="md-nav__link md-nav__link--index "> <a href=../../allocations/chap/ >CISL HPC Allocations Panel</a> <label for=__nav_2_4_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="CISL HPC Allocations Panel" data-md-level=3> <label class=md-nav__title for=__nav_2_4_6> <span class="md-nav__icon md-icon"></span> CISL HPC Allocations Panel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../allocations/chap/chap-allocation-review-criteria/ class=md-nav__link> Allocation Review Criteria </a> </li> <li class=md-nav__item> <a href=../../allocations/chap/chap-conflict-of-interest-policy/ class=md-nav__link> Conflict of Interest Policy </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../getting-started/vpn-access/ class=md-nav__link> VPN access </a> </li> <li class=md-nav__item> <a href=../../getting-started/system-usage-policies/ class=md-nav__link> System Usage Policies </a> </li> <li class=md-nav__item> <a href=../../getting-started/data-retention-policies/ class=md-nav__link> Data Retention Policies </a> </li> <li class=md-nav__item> <a href=../../getting-started/best-practices-for-supercomputer-users/ class=md-nav__link> Best Practices for Supercomputer Users </a> </li> <li class=md-nav__item> <a href=../../getting-started/acknowledging-ncar-and-cisl/ class=md-nav__link> Acknowledging NCAR and CISL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../storage-systems/ >Storage Systems and Data Transfer</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Storage Systems and Data Transfer" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Storage Systems and Data Transfer </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../storage-systems/glade/ >GLADE (POSIX File Systems)</a> <label for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="GLADE (POSIX File Systems)" data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> GLADE (POSIX File Systems) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../storage-systems/glade/campaign/ class=md-nav__link> Campaign storage file system </a> </li> <li class=md-nav__item> <a href=../../storage-systems/glade/lustre/ class=md-nav__link> Lustre file systems </a> </li> <li class=md-nav__item> <a href=../../storage-systems/glade/setting-file-directory-permissions/ class=md-nav__link> Setting File and Directory Permissions </a> </li> <li class=md-nav__item> <a href=../../storage-systems/glade/using-access-control-lists/ class=md-nav__link> Using Access Control Lists </a> </li> <li class=md-nav__item> <a href=../../storage-systems/glade/recovering-files-from-snapshots/ class=md-nav__link> Recovering files from snapshots </a> </li> <li class=md-nav__item> <a href=../../storage-systems/glade/removing-large-number-of-files/ class=md-nav__link> Removing large number of files </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../storage-systems/quasar/ >Quasar (Tape Storgae)</a> <label for=__nav_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Quasar (Tape Storgae)" data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Quasar (Tape Storgae) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../storage-systems/quasar/quasar%2Bsystem%2Bspecifications/ class=md-nav__link> Quasar system specifications </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../storage-systems/stratus/ >Stratus (Object Storage)</a> <label for=__nav_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Stratus (Object Storage)" data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Stratus (Object Storage) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../storage-systems/stratus/getting-started-with-an-object-storage-admin-account/ class=md-nav__link> Getting started with an object storage admin account </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../storage-systems/data-access-nodes/ class=md-nav__link> Data Access Nodes </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6 type=checkbox id=__nav_3_6> <div class="md-nav__link md-nav__link--index "> <a href=../../storage-systems/data-transfer/ >Transferring Data</a> <label for=__nav_3_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Transferring Data" data-md-level=2> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Transferring Data </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6_2 type=checkbox id=__nav_3_6_2> <div class="md-nav__link md-nav__link--index "> <a href=../../storage-systems/data-transfer/globus/ >Globus</a> <label for=__nav_3_6_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Globus data-md-level=3> <label class=md-nav__title for=__nav_3_6_2> <span class="md-nav__icon md-icon"></span> Globus </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../storage-systems/data-transfer/globus/Sharing%2Bdata%2Band%2Bmaking%2Bunattended%2Btransfers/ class=md-nav__link> Sharing data and making unattended transfers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../storage-systems/data-transfer/scp-and-sftp/ class=md-nav__link> SCP, SFTP and other tools </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../storage-systems/cmip-analysis-platform/ class=md-nav__link> CMIP Analysis Platform </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../environment-and-software/ >User Environment and HPC Software</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="User Environment and HPC Software" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> User Environment and HPC Software </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../environment-and-software/user-environment/ >User Environment</a> <label for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="User Environment" data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> User Environment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/conda/ class=md-nav__link> Conda </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_4 type=checkbox id=__nav_4_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../environment-and-software/user-environment/containers/ >Containers</a> <label for=__nav_4_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Containers data-md-level=3> <label class=md-nav__title for=__nav_4_2_4> <span class="md-nav__icon md-icon"></span> Containers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/containers/working_with_containers/ class=md-nav__link> Working with Containers </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/containers/examples/ class=md-nav__link> Example Workflows </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/utilities/ class=md-nav__link> Utilities </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/customizing/ class=md-nav__link> Customizing User Environment </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_7 type=checkbox id=__nav_4_2_7> <div class="md-nav__link md-nav__link--index "> <a href=../../environment-and-software/user-environment/spack/ >Spack</a> <label for=__nav_4_2_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Spack data-md-level=3> <label class=md-nav__title for=__nav_4_2_7> <span class="md-nav__icon md-icon"></span> Spack </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../environment-and-software/user-environment/spack/spack-downstream/ class=md-nav__link> Spack Downstream </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../environment-and-software/hpc-software/ >HPC Software</a> <label for=__nav_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="HPC Software" data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> HPC Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../environment-and-software/community-models/ class=md-nav__link> Community Models </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/data-analysis-and-visualization/ class=md-nav__link> Data Analysis and Visualization </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/ncl/ class=md-nav__link> NCL </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/matlab-parallel-computing-toolbox/ class=md-nav__link> MATLAB Parallel Computing Toolbox </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/numerical-libraries/ class=md-nav__link> Numerical Libraries </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/machine-learning-and-deep-learning/ class=md-nav__link> Machine Learning and Deep Learning </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/ncar-classic-libraries-for-geophysics/ class=md-nav__link> NCAR Classic Libraries for Geophysics </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_9 type=checkbox id=__nav_4_3_9> <label class=md-nav__link for=__nav_4_3_9> Profiling & Debuggers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Profiling & Debuggers" data-md-level=3> <label class=md-nav__title for=__nav_4_3_9> <span class="md-nav__icon md-icon"></span> Profiling & Debuggers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../environment-and-software/hpc-software/profiling-and-debuggers/running-ddt-map-and-pr-jobs/ class=md-nav__link> Debugging and Profiling with Forge Tools </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/hpc-software/profiling-and-debuggers/intel-parallel-studio-xe/ class=md-nav__link> Intel Parallel Studio XE </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3_10 type=checkbox id=__nav_4_3_10> <div class="md-nav__link md-nav__link--index "> <a href=../../environment-and-software/benchmarks/ >Benchmarks</a> <label for=__nav_4_3_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Benchmarks data-md-level=3> <label class=md-nav__title for=__nav_4_3_10> <span class="md-nav__icon md-icon"></span> Benchmarks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../environment-and-software/benchmarks/ncar-benchmarking-2015/ class=md-nav__link> NCAR Benchmarking applications - 2015 release </a> </li> <li class=md-nav__item> <a href=../../environment-and-software/benchmarks/ncar-benchmarking-2019-2020/ class=md-nav__link> NCAR Benchmarking applications - 2019-2020 release </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Compute Systems and Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Compute Systems and Services" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Compute Systems and Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 type=checkbox id=__nav_5_1> <div class="md-nav__link md-nav__link--index "> <a href=../../compute-systems/derecho/ >Derecho</a> <label for=__nav_5_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Derecho data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Derecho </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../compute-systems/derecho/derecho-use-policies/ class=md-nav__link> Derecho Use Policies </a> </li> <li class=md-nav__item> <a href=../../compute-systems/derecho/compiling-code-on-derecho/ class=md-nav__link> Compiling Code on Derecho </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_4 type=checkbox id=__nav_5_1_4> <div class="md-nav__link md-nav__link--index "> <a href=../../compute-systems/derecho/starting-derecho-jobs/ >Starting Derecho Jobs</a> <label for=__nav_5_1_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Starting Derecho Jobs" data-md-level=3> <label class=md-nav__title for=__nav_5_1_4> <span class="md-nav__icon md-icon"></span> Starting Derecho Jobs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1_4_2 type=checkbox id=__nav_5_1_4_2> <label class=md-nav__link for=__nav_5_1_4_2> Derecho Job Script Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Derecho Job Script Examples" data-md-level=4> <label class=md-nav__title for=__nav_5_1_4_2> <span class="md-nav__icon md-icon"></span> Derecho Job Script Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../compute-systems/derecho/starting-derecho-jobs/derecho-job-script-examples/ class=md-nav__link> Derecho batch job script examples </a> </li> <li class=md-nav__item> <a href=../../compute-systems/derecho/starting-derecho-jobs/process-binding/ class=md-nav__link> Process Binding </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../compute-systems/derecho/derecho-modules/ class=md-nav__link> Derecho Software </a> </li> <li class=md-nav__item> <a href=../../compute-systems/derecho/moving-from-cheyenne/ class=md-nav__link> Moving to Derecho from Cheyenne </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../compute-systems/casper/ >Casper</a> <label for=__nav_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Casper data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Casper </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../compute-systems/casper/casper-use-policies/ class=md-nav__link> Casper Use Policies </a> </li> <li class=md-nav__item> <a href=../../compute-systems/casper/compiling-code-on-casper/ class=md-nav__link> Compiling Code on Casper </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_4 type=checkbox id=__nav_5_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../compute-systems/casper/starting-casper-jobs/ >Starting Casper Jobs</a> <label for=__nav_5_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Starting Casper Jobs" data-md-level=3> <label class=md-nav__title for=__nav_5_2_4> <span class="md-nav__icon md-icon"></span> Starting Casper Jobs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../compute-systems/casper/starting-casper-jobs/casper-job-script-examples/ class=md-nav__link> Casper job Script Examples </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../compute-systems/casper/remote-desktops/ class=md-nav__link> Using Remote Desktops </a> </li> <li class=md-nav__item> <a href=../../compute-systems/casper/casper-modules/ class=md-nav__link> Casper Software </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 type=checkbox id=__nav_5_3> <div class="md-nav__link md-nav__link--index "> <a href=../../compute-systems/jupyterhub/ >JupyterHub</a> <label for=__nav_5_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=JupyterHub data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> JupyterHub </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../compute-systems/jupyter-and-ipython/ class=md-nav__link> Jupyter and IPython </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4> Additional Resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Additional Resources" data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Additional Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../compute-systems/additional-resources/cron/ class=md-nav__link> Cron services </a> </li> <li class=md-nav__item> <a href=../../compute-systems/additional-resources/thunder-test-system/ class=md-nav__link> Thunder test system </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >Running Jobs (PBS)</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Running Jobs (PBS)" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Running Jobs (PBS) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <div class="md-nav__link md-nav__link--index "> <a href=../job-scripts/ >Job Scripts</a> </div> <nav class=md-nav aria-label="Job Scripts" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Job Scripts </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../charging/ class=md-nav__link> Queues and Charging </a> </li> <li class=md-nav__item> <a href=../preemption/ class=md-nav__link> Using Preemption </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5 checked> <div class="md-nav__link md-nav__link--index "> <a href=../common-causes-of-job-failures/ >Common Causes of Job Failures</a> <label for=__nav_6_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Common Causes of Job Failures" data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Common Causes of Job Failures </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5_2 type=checkbox id=__nav_6_5_2 checked> <div class="md-nav__link md-nav__link--index md-nav__link--active"> <a href=./ >Checking Memory Use</a> </div> <nav class=md-nav aria-label="Checking Memory Use" data-md-level=3> <label class=md-nav__title for=__nav_6_5_2> <span class="md-nav__icon md-icon"></span> Checking Memory Use </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../storing-temporary-files/ class=md-nav__link> Storing temporary files </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../tutorials/ >Tutorials</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Tutorials data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/new-user-training/ class=md-nav__link> New User Training </a> </li> <li class=md-nav__item> <a href=../../tutorials/dask-tutorial/ class=md-nav__link> Dask Tutorial </a> </li> <li class=md-nav__item> <a href=../../tutorials/profiling-and-debugging/ class=md-nav__link> Profiling and Debugging </a> </li> <li class=md-nav__item> <a href=../../tutorials/advanced-pbs/ class=md-nav__link> Advanced PBS </a> </li> <li class=md-nav__item> <a href=../../tutorials/jupyterhub/ class=md-nav__link> JupyterHub </a> </li> <li class=md-nav__item> <a href=../../tutorials/containers/ class=md-nav__link> Containers </a> </li> <li class=md-nav__item> <a href=../../tutorials/gpu-workshop/ class=md-nav__link> GPU Workshop </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../user-support/ >User Support</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="User Support" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> User Support </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_2 type=checkbox id=__nav_8_2> <label class=md-nav__link for=__nav_8_2> Troubleshooting Tips <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Troubleshooting Tips" data-md-level=2> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> Troubleshooting Tips </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-support/troubleshooting-tips/killed-processes-on-login-nodes/ class=md-nav__link> Killed processes on login nodes </a> </li> <li class=md-nav__item> <a href=../../user-support/troubleshooting-tips/common-causes-of-job-failures/ class=md-nav__link> Common causes of job failures </a> </li> <li class=md-nav__item> <a href=../../user-support/troubleshooting-tips/batch-job-crashing/ class=md-nav__link> Batch jobs crashing </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9> <div class="md-nav__link md-nav__link--index "> <a href=../../nhug/ >NCAR User Group (NHUG)</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="NCAR User Group (NHUG)" data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> NCAR User Group (NHUG) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9_2 type=checkbox id=__nav_9_2> <div class="md-nav__link md-nav__link--index "> <a href=../../nhug/archive/ >Archive of Past Meetings</a> </div> <nav class=md-nav aria-label="Archive of Past Meetings" data-md-level=2> <label class=md-nav__title for=__nav_9_2> <span class="md-nav__icon md-icon"></span> Archive of Past Meetings </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../nhug/upcoming-events/ class=md-nav__link> NHUG Upcoming Events </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributing/ class=md-nav__link> Contributing to the Documentation </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Page Outline"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Page Outline </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#available-memory-by-system class=md-nav__link> Available memory by system </a> </li> <li class=md-nav__item> <a href=#querying-memory-usage-from-pbs class=md-nav__link> Querying memory usage from PBS </a> </li> <li class=md-nav__item> <a href=#instrumenting-your-application class=md-nav__link> Instrumenting your application </a> <nav class=md-nav aria-label="Instrumenting your application"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-peak_memusage-to-report-and-log-memory-usage class=md-nav__link> Using peak_memusage to report and log memory usage </a> <nav class=md-nav aria-label="Using peak_memusage to report and log memory usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#peak_memusage-for-determining-maximum-memory-usage class=md-nav__link> peak_memusage for determining maximum memory usage </a> </li> <li class=md-nav__item> <a href=#determining-memory-use-history class=md-nav__link> Determining memory use history </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-cray-mpich-to-report-and-log-derecho-memory class=md-nav__link> Using cray-mpich to report and log Derecho memory </a> </li> <li class=md-nav__item> <a href=#other-parallel-memory-profiling-tools class=md-nav__link> Other parallel memory profiling tools </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#interactive-monitoring class=md-nav__link> Interactive monitoring </a> </li> <li class=md-nav__item> <a href=#understanding-and-resolving-various-memory-issues class=md-nav__link> Understanding and resolving various memory issues </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/NCAR/HPC-Docs/edit/main/docs/pbs/checking-memory-use/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=checking-memory-use>Checking memory use<a class=headerlink href=#checking-memory-use title="Permanent link">&para;</a></h1> <p>All compute nodes have a limited amount of physical memory – <em>RAM</em> – available to your application. If your program exceeds the available memory on a Derecho node, it will either be killed by system monitors or crash and dump core, often with a "bus error" message in your logs. On the Casper cluster, nodes can <em>swap</em> data to NVMe storage, which typically prevents failures because of running out of memory in all but the most intensive workflows. Computing on swapped data, however, is much slower than processing data that is resident in memory, so jobs may can still fail from exhausting the requested wall-clock.</p> <p>Applications that offload computation to GPUs must also consider the available memory on each GPU, which is known as the <em>VRAM</em>. Asking for a large amount of memory in every job might seem like a good idea, but it will typically result in slow dispatch times and long queue waits.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Always try to match your memory request to your needs. This allows the scheduler to best fit all jobs onto the available resources. A good match will also prevent you from needlessly waiting for more memory than you actually require.</p> </div> <p>As detailed below, you can query the PBS scheduler for bulk memory statistics from any completed job. You can also observe memory usage via either instrumenting your application or live monitoring.</p> <h2 id=available-memory-by-system>Available memory by system<a class=headerlink href=#available-memory-by-system title="Permanent link">&para;</a></h2> <table> <colgroup> <col style="width: 24%"> <col style="width: 75%"> </colgroup> <thead> <tr class=header> <th><strong>System</strong></th> <th><strong>Usable memory per compute node</strong></th> </tr> </thead> <tbody> <tr class=odd> <td><strong>Derecho</strong></td> <td>240 GB (2,488 CPU nodes)<br> 490 GB (82 GPU nodes)</td> </tr> <tr class=even> <td><strong>Cheyenne</strong></td> <td>45 GB (3,168 nodes)<br> 109 GB (864 nodes)</td> </tr> <tr class=odd> <td><strong>Casper</strong></td> <td>365 GB (22 nodes)<br> 738 GB (4 nodes)<br> 1115 GB (6 nodes)</td> </tr> </tbody> </table> <p>If your job approaches the usable memory per node threshold shown in the table, you may experience unexpected issues or job failures. Leave a margin of 2 or 3 percent.</p> <h2 id=querying-memory-usage-from-pbs>Querying memory usage from PBS<a class=headerlink href=#querying-memory-usage-from-pbs title="Permanent link">&para;</a></h2> <p>The <a href=https://arc.ucar.edu/knowledge_base/68878389#ManagingandmonitoringPBSjobs-qhist><code>qhist</code></a> tool can be used to display information about completed PBS jobs. By default, it will print the node memory the job consumed (the high-water mark usage), as in this example: <div class=highlight><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>$ qhist -u $USER -d 3
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>Job ID    User       Queue    Nodes NCPUs NGPUs Finish    Mem(GB)   CPU(%)  Elap(h)
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>3632559   benkirk    htc          1     1     0 27-1802      21.8     99.0     8.01
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>3632475   benkirk    htc          1     1     0 27-0949      30.1     86.0     0.26
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>...
</span></code></pre></div></p> <p>The output shows all jobs run in the previous three days, and it lists the amount of memory consumed.</p> <p>Running qhist with the <code>-w</code> argument specifies "wide" output and provides additional details, including the memory requested, as in this example: <div class=highlight><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>$ qhist -u $USER -d 3 -w
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>Job ID    User            Queue      Nodes NCPUs NGPUs Finish Time  Req Mem Used Mem(GB)  Avg CPU (%)  Elapsed (h) Job Name
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>3632559   benkirk         htc            1     1     0 07-27T18:02     40.0         21.8         99.0         8.01 STDIN
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>3632475   benkirk         htc            1     1     0 07-27T09:49    256.0         30.1         86.0         0.26 regrid_bmr_casper
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>...
</span></code></pre></div></p> <p>The output in the first job shows that it requested 40 GB of memory but used only 21.8 GB. The second job requested 256 GB but used only 30.1GB.</p> <p>If you see a job where the used memory matches the requested memory, it likely either failed with an out-of-memory error or began swapping data to disk, negatively affecting performance. Using <code>qhist</code>, you can easily check for large under- and overestimates and adjust future jobs accordingly.</p> <p><em>PBS logs do not include information about GPU memory usage.</em></p> <h2 id=instrumenting-your-application>Instrumenting your application<a class=headerlink href=#instrumenting-your-application title="Permanent link">&para;</a></h2> <p>While the scheduler can provide the maximum memory amount used by a job, it cannot provide details on specific commands in your script, time-varying memory logging, or insight into GPU VRAM usage. For these details, you will want to turn to application instrumentation. Using instrumentation will incur some memory usage overhead, so it can be a good idea to request more memory than your job would typically need when profiling.</p> <h3 id=using-peak_memusage-to-report-and-log-memory-usage>Using <code>peak_memusage</code> to report and log memory usage<a class=headerlink href=#using-peak_memusage-to-report-and-log-memory-usage title="Permanent link">&para;</a></h3> <p>The <code>peak_memusage</code> tool is a command-line utility that outputs the maximum node memory – and GPU memory, if relevant) – used by each process and/or thread of an application. It has several modes of operation which vary in detail reported and complexity of use.</p> <h4 id=peak_memusage-for-determining-maximum-memory-usage><code>peak_memusage</code> for determining maximum memory usage<a class=headerlink href=#peak_memusage-for-determining-maximum-memory-usage title="Permanent link">&para;</a></h4> <p>The <code>peak_memusage</code> command can be used to run your application and report its "high water," or peak memory footprint. To use it, you must load the appropriate module and simply prefix your application launch command as follows: <div class=highlight><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>$ module load peak-memusage
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>$ peak_memusage &lt;my_application&gt; &lt;--my-apps-arguments&gt;
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>...
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>casper-login1 used memory in task 0: 51MiB (+2MiB overhead). ExitStatus: 0. Signal: 0
</span></code></pre></div></p> <p>The regular application output has been abbreviated. The final line of output reveals this application required a total of 51MiB of system memory, including 2MiB "overhead." The overhead may vary considerably by application and depends largely on what libraries the application requires. This approach also works inside MPI applications, with <a href="https://docs.google.com/presentation/d/1Tf9XFCtkrsZJwXFStZzjAeq2y-3Guurc2BYRVZPtgzo/edit?usp=sharing">specific examples provided here</a>. Run <code>man peak_memusage</code> for additional details and examples.</p> <h4 id=determining-memory-use-history>Determining memory use history<a class=headerlink href=#determining-memory-use-history title="Permanent link">&para;</a></h4> <p>CISL provides a <code>log_memusage</code> tool you can use to produce a time history of system memory usage as well as GPU memory if allocated to the job. This tools provides a shared library that can be either linked to directly or, more likely, used with an existing application through the <code>LD_PRELOAD</code> mechanism. For example, if you have a previously compiled application and would like to determine its memory usage over time, set the environment variable LD_PRELOAD when executing the application as follows: <div class=highlight><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>$ LD_PRELOAD=${NCAR_ROOT_PEAK_MEMUSAGE}/install/lib/liblog_memusage.so &lt;my_application&gt;
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>...
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a># (memusage) --&gt; gust02 / PID 44899, peak used memory: 18 MiB
</span></code></pre></div></p> <p>The <code>log_memusage</code> tool works by creating a <em>monitoring thread</em> that polls the operating system for the application's memory usage at specified intervals. Several environment variables control the tool's behavior. Run <code>man log_memusage</code> for additional details and examples. This approach also works under MPI if the <code>LD_PRELOAD</code> environment variable is propagated properly into the MPI execution, as in this example: <div class=highlight><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>$ mpiexec -n 6 -env LD_PRELOAD=${NCAR_ROOT_PEAK_MEMUSAGE}/lib/liblog_memusage.so &lt;my_application&gt;
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>...
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a># (memusage) --&gt; gu0017 / PID 121027 / MPI Rank 0, peak used memory: 166 MiB (CPU), 563 MiB (GPU)
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a># (memusage) --&gt; gu0017 / PID 121029 / MPI Rank 2, peak used memory: 93 MiB (CPU), 563 MiB (GPU)
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a># (memusage) --&gt; gu0017 / PID 121031 / MPI Rank 4, peak used memory: 93 MiB (CPU), 563 MiB (GPU)
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a># (memusage) --&gt; gu0017 / PID 121032 / MPI Rank 5, peak used memory: 92 MiB (CPU), 563 MiB (GPU)
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a># (memusage) --&gt; gu0017 / PID 121030 / MPI Rank 3, peak used memory: 93 MiB (CPU), 563 MiB (GPU)
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a># (memusage) --&gt; gu0017 / PID 121028 / MPI Rank 1, peak used memory: 165 MiB (CPU), 563 MiB (GPU)
</span></code></pre></div></p> <p>The details for how a given MPI implementation passes environment variables can vary. Some use <code>-env</code> while others use <code>-x</code>. Run <code>man mpiexec</code> for specifics of your implementation.</p> <h3 id=using-cray-mpich-to-report-and-log-derecho-memory>Using <code>cray-mpich</code> to report and log Derecho memory<a class=headerlink href=#using-cray-mpich-to-report-and-log-derecho-memory title="Permanent link">&para;</a></h3> <p>The preferred Cray MPICH MPI implementation on Derecho provides capabilities, similar to those above, for recording an application's high-water memory usage. They are controlled by these environment variables:</p> <ul> <li><code>MPICH_MEMORY_REPORT</code></li> <li><code>MPICH_MEMORY_REPORT_FILE</code></li> </ul> <p>Here's an example: <div class=highlight><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>export MPICH_MEMORY_REPORT=1
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>mpiexec &lt;typical arguments&gt; ./myapp
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>...
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a># MPICH_MEMORY: Max memory allocated by malloc:  5540920 bytes by rank 0
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a># MPICH_MEMORY: Min memory allocated by malloc:  5540224 bytes by rank 1
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a># MPICH_MEMORY: Max memory allocated by mmap:    110720 bytes by rank 0
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a># MPICH_MEMORY: Min memory allocated by mmap:    110720 bytes by rank 0
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a># MPICH_MEMORY: Max memory allocated by shmget:  17834896 bytes by rank 0
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a># MPICH_MEMORY: Min memory allocated by shmget:  0 bytes by rank 1
</span></code></pre></div></p> <p>The <code>mpiexec</code> command also provides a high-level summary of resources consumed, including memory use, when the <code>--verbose</code> flag is employed: <div class=highlight><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>mpiexec --verbose &lt;typical arguments&gt; ./myapp
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>...
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>Application dc6a4084 resources: utime=7s stime=7s maxrss=222296KB inblock=0 oublock=0 minflt=289502 majflt=0 nvcsw=16550 nivcsw=276
</span></code></pre></div></p> <p>The <code>maxrss</code> (maximum resident set size) is the maximum CPU memory required by a single MPI rank in the application. Run <code>man intro_mpi</code> and <code>man mpiexec</code> on Derecho for more information on these Cray-specific features.</p> <h3 id=other-parallel-memory-profiling-tools>Other parallel memory profiling tools<a class=headerlink href=#other-parallel-memory-profiling-tools title="Permanent link">&para;</a></h3> <p>We recommend the tools described above for understanding your job memory use and crafting your PBS resource specifications. However, sometimes you need even more detailed information on application memory use patterns (e.g., during code development cycles). Many tools exist for detailed memory profiling; on Derecho and Casper we recommend <a href=../../environment-and-software/hpc-software/profiling-and-debuggers/running-ddt-map-and-pr-jobs/ >Linaro Forge</a>.</p> <hr> <h2 id=interactive-monitoring>Interactive monitoring<a class=headerlink href=#interactive-monitoring title="Permanent link">&para;</a></h2> <p>The tools described above record the memory consumed during a program's execution, but monitoring in real time can be useful, too. It allows you to take action if you need to while the job is running and you have access to the compute nodes. Take care when executing additional commands on your job nodes, as any additional load you put on the execution host will slow your program down, and any additional memory you consume subtracts from what is available. This consideration is especially important on the Casper cluster, where your host is likely shared with other users.</p> <p>The first step is to identify which nodes are in use by running the <code>qstat -f &lt;JOBID&gt;</code> command as shown here: <div class=highlight><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>Job Id: 5677216.casper-pbs
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>...
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    resources_used.mem = 78004288kb
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    resources_used.ncpus = 1
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>    resources_used.vmem = 1262344kb
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>    resources_used.walltime = 00:19:27
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>    job_state = R
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>    queue = htc
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>    server = casper-pbs
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>...
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>    exec_host = crhtc53/17*4+crhtc62/11*4
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>...
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>    project = _pbs_project_default
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>    Submit_Host = chadmin4.hpc.ucar.edu
</span></code></pre></div></p> <p>The command will create a lot of output, which is abbreviated above. Note specifically that PBS is reporting the amount of memory <em>used so far</em>.</p> <p>The execution hosts (compute nodes) are listed in the <em>exec_host</em> field. The job in the example above ran on two hosts, <code>crhtc53</code> and <code>crhtc62</code>. While the job is in a running state, it is possible to <code>ssh</code> directly to any of the named hosts and query basic diagnostic programs such as <code>top</code> (for node memory) and <code>nvidia-smi</code> (for GPU memory), or use more advanced tools such as <code>strace</code> and <code>gdb</code>. Typically, you will want to begin with the first execution host listed, as many applications perform file I/O on the first host so memory usage tends to be highest there. Be aware that your ssh session will be terminated abruptly when the PBS job ends and you no longer have batch processes assigned to the host(s).</p> <h2 id=understanding-and-resolving-various-memory-issues>Understanding and resolving various memory issues<a class=headerlink href=#understanding-and-resolving-various-memory-issues title="Permanent link">&para;</a></h2> <p><strong>Issue 1.</strong> Your Derecho or Casper job shows signs of a memory issue (e.g., the job log ends with "Killed" or "Bus Error") despite <code>qhist</code> reporting a higher requested than used memory amount.</p> <p>The output from <code>qhist</code> indicates the total memory used and requested across all nodes in the job. This heuristic, while useful, can obfuscate memory usage patterns. Many scientific applications perform read/write operations on the "head" (primary) node of the job, and because data must be collected to this node to do I/O, memory usage can exceed what is available on that node while others use far less. Additionally, the PBS scheduler only records data at set intervals, so aliasing issues come into play for rapid increases in memory footprint. More sophisticated instrumentation like the temporal logging mode of <code>peak_memusage</code> can provide insight into these memory usage patterns.</p> <p><strong>Issue 2.</strong> Your data analysis job on Casper begins to run slowly after a large array has been allocated, but no memory error is reported.</p> <p>It is likely that you are swapping data from RAM to disk. If possible, perform garbage collection in your language of choice to free memory. Otherwise, you will likely need to start a new job with a higher memory limit.</p> <p><strong>Issue 3.</strong> Your batch job crashes shortly after execution and the output provides no explanation.</p> <p>If you suspect memory problems, it makes sense to examine recent changes to your code or runtime environment. Ask yourself questions like these:</p> <ul> <li> <p>When did you last run the job successfully? Was the model's resolution increased since then?</p> </li> <li> <p>Did you port your code from a computer having more memory?</p> </li> <li> <p>Did you add new arrays or change array dimensions?</p> </li> <li> <p>Have you modified the batch job script?</p> </li> </ul> <p>If the answer to those questions is “no,” your job might be failing because you have exceeded your disk quota rather than because of a memory issue. To check, follow these steps:</p> <ul> <li> <p>Run the <code>gladequota</code> command.</p> </li> <li> <p>Check the "<code>% Full</code>" column in the command's output.</p> </li> <li> <p>Clean up any GLADE spaces that are at or near 100% full.</p> </li> <li> <p>Look for core files or other large files that recent jobs may have created.</p> </li> <li> <p>Exceeding disk quota at runtime can result in symptoms that are similar to those resulting from memory problems. If running gladequota doesn't indicate a problem, consider using the ARM Forge DDT advanced memory debugger to isolate the problem.</p> </li> </ul> <p>If you have tried all of the above and are still troubled that your job is exceeding usable memory, contact the <a href=https://rchelp.ucar.edu/ >NCAR Research Computing help desk</a> with the relevant job number(s).</p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2023-12-26T21:40:45+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-12-26</span> <br> Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2023-12-26T21:40:45+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-12-26</span> </small> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label> <a href=../common-causes-of-job-failures/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Common causes of job failures" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Common causes of job failures </div> </div> </a> <a href=../storing-temporary-files/ class="md-footer__link md-footer__link--next" aria-label="Next: Storing temporary files" rel=next> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Storing temporary files </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2023 UCAR, Licensed under the <a href=https://creativecommons.org/licenses/by-sa/4.0/ >Creative Commons CC-BY-SA 4.0</a>. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://arc.ucar.edu/ target=_blank rel=noopener title=arc.ucar.edu class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.07 4.93C17.22 3 14.66 1.96 12 2c-2.66-.04-5.21 1-7.06 2.93C3 6.78 1.96 9.34 2 12c-.04 2.66 1 5.21 2.93 7.06C6.78 21 9.34 22.04 12 22c2.66.04 5.21-1 7.06-2.93C21 17.22 22.04 14.66 22 12c.04-2.66-1-5.22-2.93-7.07M17 12v6h-3.5v-5h-3v5H7v-6H5l7-7 7.5 7H17Z"/></svg> </a> <a href=https://ithelp.ucar.edu/plugins/servlet/desk/site/rc target=_blank rel=noopener title=ithelp.ucar.edu class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10Z"/></svg> </a> <a href=https://github.com/NCAR target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://join.slack.com/t/ncarhpcusergroup/shared_invite/zt-1z00napom-SU0X8CzJWVY90C2GzRvUCg target=_blank rel=noopener title=join.slack.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> </div> </div> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <table class=md-footer-meta__inner> <colgroup> <col style="width: 10%"> <col style="width: 90%"> </colgroup> <tbody> <tr> <td valign=center> <img alt="National Science Foundation" src=https://www.nsf.gov/news/mmg/media/images/bitmaplogo_nolayers_f_e50fcd0b-607b-4271-a808-914d9c2f65dc.png height=140 width=180> </td> <td valign=center> <p style="font-size:0.75em; "> This material is based upon work supported by the National Center for Atmospheric Research, a major facility sponsored by National Science Foundation and managed by the University Corporation for Atmospheric Research. Any opinions, findings and conclusions or recommendations expressed in this material do not necessarily reflect the views of the National Science Foundation. </p> </td> </tr> </tbody> </table> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.annotate", "content.code.copy", "content.action.edit", "content.action.view", "navigation.footer", "navigation.indexes", "navigation.top", "navigation.path", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.5a2dcb6a.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> <script src=../../js/open_in_new_tab.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>